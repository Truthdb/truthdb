name: Release

on:
  push:
    tags:
      - 'v*'

permissions:
  contents: write

jobs:
  release:
    uses: Truthdb/.github/.github/workflows/rust-release.yml@issue-17-workflows
    with:
      binary_name: truthdb
      cargo_build_args: --workspace
      artifact_target_name: x86_64-linux-gnu
      extra_body: |
        ### Installation

        Download the `truthdb` binary for your platform and verify the checksum.

        ### Usage

        See README.md for details.
